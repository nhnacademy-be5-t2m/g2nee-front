<!DOCTYPE html>
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!-- 다른 페이지에 포함시킬 영역을 th:fragment로 선언해준다.-->
<div th:fragment="header">
    <div class="container-fluid">
        <div class="row bg-secondary py-2 px-xl-5">
            <div class="col-lg-6 d-none d-lg-block">
                <div class="d-inline-flex align-items-center">
                    <a class="nav-item nav-link active" href="/books">Home</a>
                    <span class="text-muted px-2"> | </span>
                    <a class="nav-item nav-link" href="/cart">Cart</a>
                </div>
            </div>
            <div class="col-lg-6 text-center text-lg-right">
                <div class="d-inline-flex align-items-center">
                    <div class="d-inline-flex" sec:authorize="isAnonymous()">
                        <a class="nav-item nav-link" href="/login">로그인</a>
                        <a class="nav-item nav-link" href="/signup">회원가입</a>
                        <a class="nav-item nav-link" href="/order/customLogin">비회원 주문조회</a>
                    </div>
                    <div class="d-inline-flex" sec:authorize="isAuthenticated()">
                        <a class="nav-item nav-link"
                           th:text="${#request.getSession().getAttribute('username')+' 님 안녕하세요!'}"/>
                        <a class="nav-item nav-link" href="/logout">로그아웃</a>
                        <a class="nav-item nav-link" href="/admin" sec:authorize="hasRole('ROLE_ADMIN')"> Admin Page
                            접속 </a>
                    </div>

                    <div class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">마이페이지</a>
                        <div class="dropdown-menu rounded-0 m-0">
                            <a class="dropdown-item" href="">나의 정보</a>
                            <a class="dropdown-item" href="/mypage/address">나의 주소</a>
                            <a class="dropdown-item" href="">주문/배송조회</a>
                            <a class="dropdown-item" href="">결제내역</a>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row align-items-center py-3 px-xl-5">
            <div class="col-lg-13 d-none d-lg-block">
                <a class="text-decoration-none" href="/">
                    <h1 class="m-0 display-5 font-weight-semi-bold"><span
                            class="text-primary font-weight-bold border px-3 mr-1">g</span>2nee shop</h1>
                </a>
            </div>
            <div class="col-lg-6 col-6 text-left">
                <form th:action="@{/books/search}" th:method="get">
                    <div class="input-group">
                        <input class="form-control" id="keyword" name="keyword" placeholder="Search for products"
                               type="text">
                        <input name="page" type="hidden" value="1">
                        <div class="input-group-append">
                            <span class="input-group-text bg-transparent text-primary">
                                <i class="fa fa-search"></i>
                            </span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-lg-3 col-6 text-right">
                <a class="btn border" href="like.html">
                    <i class="fas fa-heart text-primary"></i>
                    <span class="badge" th:text="${likesNum}"></span>
                </a>
                <a class="btn border" href="/cart">
                    <i class="fas fa-shopping-cart text-primary"></i>
                    <span class="badge">0</span>
                </a>
            </div>
        </div>
    </div>
</div>

<div th:fragment="admin-header">

    <div class="container-fluid">
        <div class="row bg-secondary py-2 px-xl-5">
            <div class="col-lg-6 d-none d-lg-block">
                <div class="d-inline-flex align-items-center">
                    <a class="nav-item nav-link active" href="/">Home</a>
                </div>
            </div>
            <div class="col-lg-6 text-center text-lg-right">
                <div class="d-inline-flex align-items-center">
                    <a class="nav-item nav-link" href="/logout">로그아웃</a>
                </div>
            </div>
        </div>
        <div class="row align-items-center py-3 px-xl-5">
            <div class="col-lg-13 d-none d-lg-block">
                <a class="text-decoration-none" href="/admin">
                    <h1 class="m-0 display-5 font-weight-semi-bold">
                        <span class="text-primary font-weight-bold border px-3 mr-1">g</span>2nee admin
                    </h1>
                </a>
            </div>
        </div>
    </div>

</div>
</html>